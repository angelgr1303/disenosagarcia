"use strict";(self.webpackChunkdisenos_agarcia_frontend=self.webpackChunkdisenos_agarcia_frontend||[]).push([[464],{3464:(M,g,d)=>{d.r(g),d.d(g,{RegisterComponent:()=>b});var m=d(177),l=d(4341),c=d(6544),e=d(4438),p=d(4796);function f(a,u){if(1&a&&(e.j41(0,"div",30),e.EFF(1),e.k0s()),2&a){const i=e.XpG();e.R7$(),e.JRh(i.errorMessage)}}function _(a,u){if(1&a&&(e.j41(0,"div",31),e.EFF(1),e.k0s()),2&a){const i=e.XpG();e.R7$(),e.JRh(i.successMessage)}}function h(a,u){1&a&&e.nrm(0,"span",32)}let b=(()=>{class a{constructor(i,t){this.authService=i,this.router=t,this.registerData={nombre_completo:"",usuario:"",email:"",contrasena:"",confirmar_contrasena:""},this.showPassword=!1,this.showConfirmPassword=!1,this.isLoading=!1,this.errorMessage="",this.successMessage="",this.showEmailErrorModal=!1,this.showUserErrorModal=!1,this.showSuccessModal=!1}ngOnInit(){}togglePassword(){this.showPassword=!this.showPassword}toggleConfirmPassword(){this.showConfirmPassword=!this.showConfirmPassword}onRegister(){this.registerData.nombre_completo.trim()&&this.registerData.usuario.trim()&&this.registerData.email.trim()&&this.registerData.contrasena.trim()&&this.registerData.confirmar_contrasena.trim()?this.registerData.contrasena===this.registerData.confirmar_contrasena?(this.isLoading=!0,this.errorMessage="",this.successMessage="",this.authService.register({nombreCompleto:this.registerData.nombre_completo,email:this.registerData.email,usuario:this.registerData.usuario,contrasena:this.registerData.contrasena,confirmarContrasena:this.registerData.confirmar_contrasena}).subscribe({next:t=>{this.isLoading=!1,"success"===t.status&&(this.showSuccessModal=!0)},error:t=>{this.isLoading=!1,console.error("Error de registro:",t),t.error&&t.error.message?t.error.message.includes("correo")||t.error.message.includes("email")?this.showEmailErrorModal=!0:t.error.message.includes("usuario")?this.showUserErrorModal=!0:this.errorMessage=t.error.message:this.errorMessage="Ha ocurrido un error inesperado, por favor int\xe9ntelo de nuevo."}})):this.errorMessage="Las contrase\xf1as no coinciden.":this.errorMessage="Por favor, completa todos los campos."}closeModal(){this.showEmailErrorModal=!1,this.showUserErrorModal=!1,this.showSuccessModal=!1,this.showSuccessModal&&(this.registerData={nombre_completo:"",usuario:"",email:"",contrasena:"",confirmar_contrasena:""})}goToLogin(){this.closeModal(),this.router.navigate(["/login"])}static{this.\u0275fac=function(t){return new(t||a)(e.rXU(p.u),e.rXU(c.Ix))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-register"]],standalone:!0,features:[e.aNF],decls:68,vars:28,consts:[["registerForm","ngForm"],[1,"register-container"],[1,"register-card"],["src","assets/img/horizontal-logo.png","alt","Logo"],[3,"ngSubmit"],[1,"mb-3"],["type","text","name","nombre_completo","placeholder","Nombre Completo*","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","usuario","placeholder","Nombre de usuario*","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","email","placeholder","Correo Electr\xf3nico*","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3","position-relative"],["name","contrasena","placeholder","Contrase\xf1a*","required","",1,"form-control",3,"ngModelChange","type","ngModel"],[2,"cursor","pointer",3,"click"],["name","confirmar_contrasena","placeholder","Confirmar Contrase\xf1a*","required","",1,"form-control",3,"ngModelChange","type","ngModel"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["type","submit",1,"btn","btn-success","w-100",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[1,"mt-3"],["routerLink","/login",1,"login-link"],["id","errorEmailModal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["id","errorUserModal","tabindex","-1",1,"modal","fade"],["id","successModal","tabindex","-1",1,"modal","fade"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"div",1)(1,"div",2),e.nrm(2,"img",3),e.j41(3,"h2"),e.EFF(4,"\xa1Registrate en Dise\xf1os A.Garc\xeda!"),e.k0s(),e.j41(5,"form",4,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.onRegister())}),e.j41(7,"div",5)(8,"input",6),e.mxI("ngModelChange",function(r){return e.eBV(n),e.DH7(o.registerData.nombre_completo,r)||(o.registerData.nombre_completo=r),e.Njj(r)}),e.k0s()(),e.j41(9,"div",5)(10,"input",7),e.mxI("ngModelChange",function(r){return e.eBV(n),e.DH7(o.registerData.usuario,r)||(o.registerData.usuario=r),e.Njj(r)}),e.k0s()(),e.j41(11,"div",5)(12,"input",8),e.mxI("ngModelChange",function(r){return e.eBV(n),e.DH7(o.registerData.email,r)||(o.registerData.email=r),e.Njj(r)}),e.k0s()(),e.j41(13,"div",9)(14,"input",10),e.mxI("ngModelChange",function(r){return e.eBV(n),e.DH7(o.registerData.contrasena,r)||(o.registerData.contrasena=r),e.Njj(r)}),e.k0s(),e.j41(15,"i",11),e.bIt("click",function(){return e.eBV(n),e.Njj(o.togglePassword())}),e.k0s()(),e.j41(16,"div",9)(17,"input",12),e.mxI("ngModelChange",function(r){return e.eBV(n),e.DH7(o.registerData.confirmar_contrasena,r)||(o.registerData.confirmar_contrasena=r),e.Njj(r)}),e.k0s(),e.j41(18,"i",11),e.bIt("click",function(){return e.eBV(n),e.Njj(o.toggleConfirmPassword())}),e.k0s()(),e.DNE(19,f,2,1,"div",13)(20,_,2,1,"div",14),e.j41(21,"button",15),e.DNE(22,h,1,0,"span",16),e.EFF(23),e.k0s(),e.j41(24,"div",17)(25,"p"),e.EFF(26,"\xbfYa tienes una cuenta? "),e.j41(27,"a",18),e.EFF(28,"Iniciar sesi\xf3n"),e.k0s()()()()()(),e.j41(29,"div",19)(30,"div",20)(31,"div",21)(32,"div",22)(33,"h5",23),e.EFF(34,"Error al crear la cuenta"),e.k0s(),e.j41(35,"button",24),e.bIt("click",function(){return e.eBV(n),e.Njj(o.closeModal())}),e.k0s()(),e.j41(36,"div",25)(37,"p"),e.EFF(38,"El correo utilizado ya est\xe1 registrado"),e.k0s()(),e.j41(39,"div",26)(40,"button",27),e.bIt("click",function(){return e.eBV(n),e.Njj(o.closeModal())}),e.EFF(41,"Reintentar"),e.k0s()()()()(),e.j41(42,"div",28)(43,"div",20)(44,"div",21)(45,"div",22)(46,"h5",23),e.EFF(47,"Error al crear la cuenta"),e.k0s(),e.j41(48,"button",24),e.bIt("click",function(){return e.eBV(n),e.Njj(o.closeModal())}),e.k0s()(),e.j41(49,"div",25)(50,"p"),e.EFF(51,"El nombre de usuario ya est\xe1 en uso"),e.k0s()(),e.j41(52,"div",26)(53,"button",27),e.bIt("click",function(){return e.eBV(n),e.Njj(o.closeModal())}),e.EFF(54,"Reintentar"),e.k0s()()()()(),e.j41(55,"div",29)(56,"div",20)(57,"div",21)(58,"div",22)(59,"h5",23),e.EFF(60,"Registro correcto"),e.k0s(),e.j41(61,"button",24),e.bIt("click",function(){return e.eBV(n),e.Njj(o.closeModal())}),e.k0s()(),e.j41(62,"div",25)(63,"p"),e.EFF(64,"Su registro ha sido realizado con \xe9xito"),e.k0s()(),e.j41(65,"div",26)(66,"button",27),e.bIt("click",function(){return e.eBV(n),e.Njj(o.goToLogin())}),e.EFF(67,"Iniciar sesi\xf3n"),e.k0s()()()()()}2&t&&(e.R7$(8),e.R50("ngModel",o.registerData.nombre_completo),e.R7$(2),e.R50("ngModel",o.registerData.usuario),e.R7$(2),e.R50("ngModel",o.registerData.email),e.R7$(2),e.Y8G("type",o.showPassword?"text":"password"),e.R50("ngModel",o.registerData.contrasena),e.R7$(),e.HbH("fa fa-"+(o.showPassword?"eye-slash":"eye")+" position-absolute end-0 top-50 translate-middle-y me-3"),e.R7$(2),e.Y8G("type",o.showConfirmPassword?"text":"password"),e.R50("ngModel",o.registerData.confirmar_contrasena),e.R7$(),e.HbH("fa fa-"+(o.showConfirmPassword?"eye-slash":"eye")+" position-absolute end-0 top-50 translate-middle-y me-3"),e.R7$(),e.Y8G("ngIf",o.errorMessage),e.R7$(),e.Y8G("ngIf",o.successMessage),e.R7$(),e.Y8G("disabled",o.isLoading),e.R7$(),e.Y8G("ngIf",o.isLoading),e.R7$(),e.SpI(" ",o.isLoading?"Registrando...":"Registrarse"," "),e.R7$(6),e.xc7("display",o.showEmailErrorModal?"block":"none"),e.AVh("show",o.showEmailErrorModal),e.R7$(13),e.xc7("display",o.showUserErrorModal?"block":"none"),e.AVh("show",o.showUserErrorModal),e.R7$(13),e.xc7("display",o.showSuccessModal?"block":"none"),e.AVh("show",o.showSuccessModal))},dependencies:[m.MD,m.bT,l.YN,l.qT,l.me,l.BC,l.cb,l.YS,l.vS,l.cV,c.iI,c.Wk],styles:['.register-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);display:flex;align-items:center;justify-content:center;padding:20px;font-family:Roboto,sans-serif}.register-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 20px 40px #0000001a;padding:40px;width:100%;max-width:450px;text-align:center;position:relative;overflow:hidden}.register-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:5px;background:linear-gradient(90deg,#b38449,#875d19)}.register-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:auto;margin-bottom:20px;filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}.register-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin-bottom:30px;font-size:24px;font-weight:400;font-family:Roboto,sans-serif}.form-control[_ngcontent-%COMP%]{border:2px solid #e1e5e9;border-radius:12px;padding:.875rem 1.25rem;font-size:16px;transition:all .3s ease;font-family:Roboto,sans-serif;background-color:#fafbfc}.form-control[_ngcontent-%COMP%]:focus{border-color:#b38449;box-shadow:0 0 0 .2rem #b3844940;background-color:#fff;transform:translateY(-2px)}.form-control[_ngcontent-%COMP%]::placeholder{color:#6c757d;font-weight:300}.position-relative[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{color:#6c757d;transition:color .3s ease}.position-relative[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]:hover{color:#b38449}.btn-success[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#b38449,#875d19);border:none;border-radius:12px;padding:.875rem 1.5rem;font-size:16px;font-weight:500;font-family:Roboto,sans-serif;transition:all .3s ease;position:relative;overflow:hidden}.btn-success[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#875d19,#6b4914);transform:translateY(-2px);box-shadow:0 6px 20px #b3844966}.btn-success[_ngcontent-%COMP%]:active, .btn-primary[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-success[_ngcontent-%COMP%]:disabled, .btn-primary[_ngcontent-%COMP%]:disabled{background:#6c757d;cursor:not-allowed;transform:none;box-shadow:none}.login-link[_ngcontent-%COMP%]{color:#b38449;text-decoration:none;font-weight:500;transition:color .3s ease}.login-link[_ngcontent-%COMP%]:hover{color:#875d19;text-decoration:underline}.alert[_ngcontent-%COMP%]{border-radius:10px;margin-bottom:20px;font-family:Roboto,sans-serif}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;border-color:#f5c6cb;color:#721c24}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;border-color:#c3e6cb;color:#155724}.modal-content[_ngcontent-%COMP%]{border-radius:15px;border:none;box-shadow:0 20px 40px #00000026}.modal-header[_ngcontent-%COMP%]{border-bottom:1px solid #e9ecef;border-radius:15px 15px 0 0;padding:20px 30px}.modal-title[_ngcontent-%COMP%]{color:#333;font-weight:500;font-family:Roboto,sans-serif}.modal-body[_ngcontent-%COMP%]{padding:30px;text-align:center;color:#666;font-family:Roboto,sans-serif}.modal-footer[_ngcontent-%COMP%]{border-top:1px solid #e9ecef;border-radius:0 0 15px 15px;padding:20px 30px;justify-content:center}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.register-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}@media (max-width: 576px){.register-container[_ngcontent-%COMP%]{padding:10px}.register-card[_ngcontent-%COMP%]{padding:30px 20px;margin:10px}.register-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;margin-bottom:25px}.form-control[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:14px}.btn-success[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]{padding:.75rem 1.25rem;font-size:14px}}.form-control[_ngcontent-%COMP%]:hover{border-color:#b38449}.register-card[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:2px;background:linear-gradient(90deg,#b38449,#875d19);opacity:.3}']})}}return a})()}}]);